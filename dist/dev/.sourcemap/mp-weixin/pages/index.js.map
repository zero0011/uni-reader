{"version":3,"sources":["uni-app:///src/main.js",null,"webpack:///./src/pages/index.vue?7d01","webpack:///./src/pages/index.vue?2d76","webpack:///./src/pages/index.vue?3038","uni-app:///src/pages/index.vue","webpack:///./src/pages/index.vue?289d","webpack:///./src/pages/index.vue?2ead"],"names":["require","_vue","_interopRequireDefault","_index","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","_epubjs","TitleBar","resolve","DOWNLOAD_URL","global","ePub","Epub","_default","exports","default","components","data","ifTitleAndMenuShow","fontSizeList","fontSize","defaultFontSize","themeList","name","style","body","defaultTheme","bookAvailable","navigation","onReady","_this","downloadText","then","textData","showEpub","catch","err","console","log","methods","Promise","reject","uni","request","url","responseType","success","res","fail","toggleTitleAndMenu","prevPage","rendition","prev","nextPage","next","_this2","book","renderTo","height","width","method","display","themes","ready","locations","generate","result"],"mappings":"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","file":"pages/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=2a183b29&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2a183b29&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a183b29\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index.vue\"\nexport default component.exports","export * from \"-!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=2a183b29&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<div class=\"ebook\">\r\n\t\t<title-bar :ifTitleAndMenuShow=\"ifTitleAndMenuShow\"></title-bar>\r\n\t\t<div class=\"read-wrapper\">\r\n      <div id=\"read\"></div>\r\n      <div class=\"mask\">\r\n        <div class=\"left\" @click=\"prevPage\"></div>\r\n        <div class=\"center\" @click=\"toggleTitleAndMenu\"></div>\r\n        <div class=\"right\" @click=\"nextPage\"></div>\r\n      </div>\r\n    </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport TitleBar from '@/components/TitleBar'\r\nimport Epub from 'epubjs';\r\nconst DOWNLOAD_URL = 'https://7072-prod-5gh32l65f8b623ca-1302196729.tcb.qcloud.la/book/258745.epub?sign=29d3f2ba6f92135c910eaeec31bd927f&t=1714896659'\r\nglobal.ePub = Epub\r\nexport default {\r\n\tcomponents: {\r\n\t\tTitleBar,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tifTitleAndMenuShow: false,\r\n\t\t\tfontSizeList: [\r\n\t\t\t\t{ fontSize: 12 },\r\n\t\t\t\t{ fontSize: 14 },\r\n\t\t\t\t{ fontSize: 16 },\r\n\t\t\t\t{ fontSize: 18 },\r\n\t\t\t\t{ fontSize: 20 },\r\n\t\t\t\t{ fontSize: 22 },\r\n\t\t\t\t{ fontSize: 24 }\r\n\t\t\t],\r\n\t\t\tdefaultFontSize: 16,\r\n\t\t\tthemeList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'default',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tbody: {\r\n\t\t\t\t\t\t\t'color': '#000', 'background': '#fff'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'eye',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tbody: {\r\n\t\t\t\t\t\t\t'color': '#000', 'background': '#ceeaba'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'night',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tbody: {\r\n\t\t\t\t\t\t\t'color': '#fff', 'background': '#000'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'gold',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tbody: {\r\n\t\t\t\t\t\t\t'color': '#000', 'background': 'rgb(241, 236, 226)'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tdefaultTheme: 0,\r\n\t\t\t// 图书是否处于可用状态\r\n\t\t\tbookAvailable: false,\r\n\t\t\tnavigation: {}\r\n\t\t}\r\n\t},\r\n\tonReady () {\r\n\t\tthis.downloadText()\r\n\t\t\t.then((textData) => {\r\n\t\t\t\tthis.showEpub(textData)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t},\r\n\tmethods: {\r\n\t\t// 下载电子书资源\r\n\t\tdownloadText() {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: DOWNLOAD_URL,\r\n\t\t\t\t\t\tresponseType: \"arraybuffer\",\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\treject()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t// 切换标题和菜单的显示状态\r\n\t\ttoggleTitleAndMenu() {\r\n\t\t\tthis.ifTitleAndMenuShow = !this.ifTitleAndMenuShow\r\n\t\t},\r\n\t\t// 上一页\r\n\t\tprevPage() {\r\n\t\t\tif (this.rendition) {\r\n\t\t\t\tthis.rendition.prev()\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 下一页\r\n\t\tnextPage() {\r\n\t\t\tif (this.rendition) {\r\n\t\t\t\tthis.rendition.next()\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 电子书的解析和渲染\r\n\t\tshowEpub(textData) {\r\n\t\t\t// 生成Book对象\r\n\t\t\tthis.book = new Epub(textData);\r\n\t\t\t// 通过Book.renderTo生成Rendition对象\r\n\t\t\tthis.rendition = this.book.renderTo('read', {\r\n\t\t\t\theight: '100%',\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\t// 兼容iOS\r\n\t\t\t\tmethod: 'default'\r\n\t\t\t})\r\n\t\t\t// 通过Rendtion.display渲染电子书\r\n\t\t\tthis.rendition.display()\r\n\t\t\t// 获取Theme对象\r\n      this.themes = this.rendition.themes\r\n      // Book对象的钩子函数ready\r\n      this.book.ready.then(() => {\r\n        this.navigation = this.book.navigation\r\n        // 生成Locations对象\r\n        return this.book.locations.generate()\r\n      }).then(result => {\r\n        // 保存locations对象\r\n        this.locations = this.book.locations\r\n        // 标记电子书为解析完毕状态\r\n        this.bookAvailable = true\r\n      })\r\n\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'assets/styles/global';\r\n\r\n.ebook {\r\n\tposition: relative;\r\n\theight: 100%;\r\n\toverflow: hidden;\r\n\r\n\t.read-wrapper {\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\r\n\t\t#read {\r\n\t\t\theight: 100%;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\t.mask {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tz-index: 100;\r\n\t\t\tdisplay: flex;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\r\n\t\t\t.left {\r\n\t\t\t\tflex: 0 0 px2rem(200);\r\n\t\t\t}\r\n\r\n\t\t\t.center {\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\tflex: 0 0 px2rem(200);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=2a183b29&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=2a183b29&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1715081879557\n      var cssReload = require(\"/Users/mac/uni_vue2_cli/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}